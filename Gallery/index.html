<!doctype html>
<!-- <div style="position: relative; padding: 30% 45%;">
    <iframe 
    style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" 
    src="https://player.bilibili.com/player.html?aid=1152932500&bvid=BV1YZ421e7BB&cid=1499097259&p=0&as_wide=1" 
    scrolling="no" 
    border="0"
    frameborder="no" 
    framespacing="0" 
    allowfullscreen="true" 
    autoplay="0"
    muted="1"
    > </iframe>
</div> -->
<html lang="en">
  <head>
    <meta charset="UTF-8"
		name="viewport" 
		content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
    <title>好得不能再好了！泰拉投资大师课</title>    
    <style type="text/css">
      *{
  	      margin:0px;
  	      padding:0px;
      }
      .button { /*开场对话*/
        background-color: #303030 ;
        border: 3px solid;
        color: white;
        width: 80%;
        height: 45px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 18px;
      }
      .button:active {/*按钮按下效果*/
        animation-name: buttonPress;
        animation-duration: 0.4s;
      }
      @keyframes buttonPress {
        from {background-color: #303030;}
        to {background-color: #505050;}
      }

      #invite { /* 来自坎诺特的邀请弹窗 */
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 999;
        background-color: gray;
        padding: 20px;
        border-radius: 10px;
        width: 90%;
        text-align: center;
      }
      #ad{
          position:fixed;	/*相对于浏览器窗口进行绝对定位*/
          top:40%;
  	      left:50%;
  	      transform:translate(-50%,-40%);
          z-index: 980;
      }
      #ad #post{
          /* width:20%;  海报宽度 */
   	      /* height:15%; */
      }
      #ad #close{
 	      height:20px;
        background-color: rgba(255,255,255,0.5);
      }
      #ad #close img{
    	  float:right;	/*关闭键close_img右浮*/
      }
      #side-ad {
        position: fixed;
        top: 20%;
        left: 0;
        transform: translateY(-50%);
        z-index: 990;
      }
      #side-ad img {
        width: 276px;
        height: 112px;
      }
      #bottom-ad {
        position: fixed;
        bottom: 0;
        left: 0;
        z-index: 990;
        width: 100%;
        height: 17%;
      }
      #bottom-ad img {
        width: 100%;
        height: 100%;
        object-fit: fill;
      }
      /* allow video over main picture */
      #parentDiv{ 
          position:relative;
      }
      #parentDiv img{
          width:100%;
      }
      #video_window{
        position:absolute;/*所有的子层都是绝对定位*/
        top:0;
        left:0;
        right:0;
        bottom:0;
      }
      #video_window iframe{
        position:absolute;
        top: 21.67%;
        z-index:2;
        left:4.16%;
        translate: translateX(-4.155%);
      }
      #VS_button{
        position:absolute;
        top: 0;
        z-index:800;
        left:0;
        /* translate: translateX(-4.155%); */
      }
      #VS_button img{
        width: 100%;
        height: 100%;
      }
      #ball {
        width:30%;
        border-radius: 50%;
        position:absolute;
        left:0;
        top:200px;
        z-index: 990;
      }
      #ball img{
        width:100%;
        height:auto;
      }
      .divbtn{
        position: absolute;
        width: 91.69%;
        height: 22.58%;
        top: 21.67%;
        left:4.16%;
        translate: translateX(-4.155%);
        z-index: 900;
      }
    </style>
  </head>
  <body overflow="hidden">
    <!-- 来自坎诺特的邀请 -->
    <dialog open id="invite">
      <p>你收到了一封来自坎诺特的邀请函，是否接受？</p>
      <br>
      <form method="dialog">
        <button class="button">让我再想想。</button><br><br>
        <button class="button">我决定了！</button><br><br>
        <button class="button">......</button>
        <!-- 按下按钮后延迟关闭 -->
        <script type="text/javascript">
          var buttons = document.getElementsByClassName("button");
          for (var i = 0; i < buttons.length; i++) {
            buttons[i].onclick = function() {
              toggleSound(); //播放bgm
              setTimeout(function() {
                document.getElementById("invite").close();
              }, 500);
            }
          }
        </script>
      </form>
    </dialog>
    
    <!-- 播放ALL!!! -->
    <audio id="ALL">
        <source src="/audio/ALL!.mp3" type="audio/mpeg">
      您的浏览器不支持 audio 元素。
    </audio>
    <!-- 自动播放 -->
    <script type="text/javascript">
        function toggleSound() {
                    var music = document.getElementById("ALL");//获取ID  
                        
                    if (music.paused) { //判读是否播放  
                        music.paused=false;
                        music.play(); //没有就播放 
                    }    
            }
    </script>
    
    <!-- ad中包含【海报】和【关闭键】两部分 -->
    <div id="ad">
      <!-- 海报 -->
      <div id="post">
        <img src="/img/amiya_ad2.jpg" width="70%"/>
      </div>
      <!-- 关闭键 -->
      <div id="close">
        <img id="close_img" src="/img/close.png" width="15px" height="15px" />
      </div>      
    </div>
	<!-- 左侧悬浮框 -->
	<div id="side-ad">
		<img src="/img/small_pic.png" alt="left ad">
	</div>

  <script>
   function play_video(){
    if (navigator.userAgent.indexOf("Firefox")>0 && 
      typeof window.orientation !== 'undefined'){ // 判断是否为手机火狐浏览器
      // 弹出提示框
      alert("火狐用户请使用桌面版网站以获得最佳体验")
    }
    //删除divbtn和VS_button
    document.getElementsByClassName("divbtn")[0].style.display = "none";
    document.getElementById("VS_button").style.display = "none";
    document.getElementById("ALL").pause();
    // 点击按钮后新增iframe播放视频
    var para = document.createElement("iframe");
    para.id = "video_window iframe";
    para.src = "https://player.bilibili.com/player.html?aid=1152932500&bvid=BV1YZ421e7BB&cid=1499097259&p=0&t=0&as_wide=1&autoplay=1&muted=0";
    para.scrolling = "no";
    para.border = "0";
    para.frameborder = "no";
    para.framespacing = "0";
    para.width = "91.69%";
    para.height = "22.58%";
    document.getElementById("video_window").appendChild(para);
   }
  </script>
  <!-- 主页面 -->
  <div id="parentDiv" width="100%">
    <img src="/img/long_page.jpg" alt="poster">
    <!-- 加入图片作为按钮播放视频 -->
    <div id="VS_button">
      <img src="/img/VS.png" alt="完事！开打！">
    </div>
    <!-- 添加闪烁效果 -->
    <script>
      var VS_button = document.getElementById("VS_button");
      var img = VS_button.getElementsByTagName("img")[0];
      var flag = 0;
      setInterval(function() {
        if (flag == 0) {
          img.style.opacity = 0;
          flag = 1;
        } else {
          img.style.opacity = 1;
          flag = 0;
        }
      }, 488);
    </script>
    <!-- 视频播放窗口 -->
    <div id="video_window">
      <!-- 点击窗口范围播放视频 -->
      <div class="divbtn" onclick="play_video()"></div>
      <!-- iframe video will be added after pressing button -->
    </div>
  </div>
  <!-- 页面底部警告信息 -->
	<img src="/img/LGD.png" width="100%" alt="LGD warning">
  <!-- white space -->
  <div style="height: 200px;"></div>
  <!-- 底部面板 -->
  <div id="bottom-ad">
    <img src="/img/bottom_pic.png" alt="bottom ad">
  </div>
  <!-- 添加反弹图片 -->
  <div id="ball">
    <img src="/img/海猫投资大师课.png" alt="海猫投资大师课">
  </div>
  <!-- 图片反弹 -->
  <script>
    // 获取dom对象
    var $ball = document.querySelector('#ball');
    //  设置速度
    var topSpeed = 3;
    var leftSpeed = 3;
    //  设置定时器
    setInterval(function () {
        //  获取小球最大移动的宽,高
        var maxTop = document.documentElement.clientHeight - $ball.offsetHeight;
        var maxLeft = document.documentElement.clientWidth - $ball.offsetWidth;
        //  小球超出可视区让其速度取反
        if ($ball.offsetTop < 0 || $ball.offsetTop > maxTop) {
            topSpeed *= -1;
        } else if ($ball.offsetLeft < 0 || $ball.offsetLeft > maxLeft) {
            leftSpeed *= -1;
        }
        //  通过改变小球的left,top属性使其运动
        $ball.style.left = $ball.offsetLeft + leftSpeed + "px";
        $ball.style.top = $ball.offsetTop - topSpeed + "px";
    }, 20)
  </script>
  <!-- 点击图片播放音频 -->
  <script>
    var ball = document.getElementById("ball");
    ball.onclick = function(){
      // 静音其他
      document.getElementById("ALL").pause();
      // 播放音频
      var audio = document.createElement("audio");
      var audios = ["/audio/dame1.mp3", "/audio/hkpmsdhkp.mp3", "/audio/touhou.mp3"];
      var audiolen = [13000, 3500,3500];
      //随机选择音频
      var index = Math.floor(Math.random() * audios.length);
      audio.src = audios[index];
      audio.autoplay = true;
      document.body.appendChild(audio);
      // 播放完毕后移除音频
      audio.onended = function(){
        document.body.removeChild(audio);
      }
      //播放其他
      setTimeout(function(){
        document.getElementById("ALL").play();
      }, audiolen[index]);
    }
  </script>


  </body>
  <script type="text/javascript">
    var close = document.getElementById("close");
    var post = document.getElementById("post");
    var ad = document.getElementById("ad");
    //关闭广告
    close.onclick = function(){
      ad.style.display = "none";
    }
    post.onclick = function(){
      ad.style.display = "none";
    }
  </script>
</html>
